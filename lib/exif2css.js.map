{"version":3,"sources":["../src/exif2css.js"],"names":["propMap","r","ry","t","ty","transformsMap","transformOriginMap","expandTransforms","transforms","o","expanded","prop","ep","getValue","value","expandTransform","a","push","length","join","expandTransformStrings","exif2css","orientation","s","String","transform","transformOrigin","allTransforms","allTransformStrings","css","transformStrings","module","exports"],"mappings":"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","file":"exif2css.js","sourcesContent":["var propMap = {\n    r: 'rotate',\n    ry: 'rotateY',\n    t: 'translateX',\n    ty: 'translateY',\n}\n\nvar transformsMap = {\n    '2': {\n        ry: 180,\n    },\n    '3': {\n        r: 180,\n    },\n    '4': {\n        r: 180,\n        ry: 180,\n    },\n    '5': {\n        r: 270,\n        ry: 180,\n    },\n    '6': {\n        ty: -1,\n        r: 90,\n    },\n    '7': {\n        ty: -1,\n        t: -1,\n        r: 90,\n        ry: 180,\n    },\n    '8': {\n        t: -1,\n        r: 270,\n    },\n}\n\nvar transformOriginMap = {\n    '5': 'top left',\n    '6': 'bottom left',\n    '7': 'bottom right',\n    '8': 'top right',\n}\n\nfunction expandTransforms(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = transforms[prop]\n    }\n    return expanded ? o : null\n}\n\nfunction getValue(prop, value) {\n    if (prop === 'r' || prop === 'ry') {\n        return value + 'deg'\n    }\n    if (prop === 't' || prop === 'ty') {\n        return value * 100 + '%'\n    }\n}\n\nfunction expandTransform(transforms) {\n    var a = []\n    for (var prop in transforms) {\n        var ep = propMap[prop]\n        a.push(ep + '(' + getValue(prop, transforms[prop]) + ')')\n    }\n    return a.length ? a.join(' ') : null\n}\n\n\nfunction expandTransformStrings(transforms) {\n    var o = {}\n    var expanded = false\n    for (var prop in transforms) {\n        if (!expanded) expanded = true\n        var ep = propMap[prop]\n        o[ep] = ep + '(' + getValue(prop, transforms[prop]) + ')'\n    }\n    return expanded ? o : null\n}\n\nfunction exif2css(orientation) {\n    var s = String(orientation)\n    var transforms = transformsMap[s]\n\n    var transform = expandTransform(transforms)\n    var transformOrigin = transformOriginMap[s]\n    var allTransforms = expandTransforms(transforms)\n    var allTransformStrings = expandTransformStrings(transforms)\n\n    var css = {}\n    if (transform) {\n        css.transform = transform\n    }\n    if (transformOrigin) {\n        css['transform-origin'] = transformOrigin\n    }\n    if (allTransforms) {\n        css.transforms = allTransforms\n    }\n    if (allTransformStrings) {\n        css.transformStrings = allTransformStrings\n    }\n    return css\n}\n\nmodule.exports = exif2css\n"]}